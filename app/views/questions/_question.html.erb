<div id="<%= dom_id(question) %>" class="message-container">
  <%= turbo_stream_from dom_id(question) %>

  <!-- User message -->
  <div class="message user-message">
    <div class="message-content">
      <div class="message-bubble">
        <%= question.user_question %>
      </div>
      <div class="message-avatar user-avatar">
        <i class="fa-solid fa-user"></i>
      </div>
    </div>
  </div>

  <!-- AI message -->
  <div class="message ai-message">
    <div class="message-content">
      <div class="message-avatar lynch-avatar">
        <img src="<%= asset_path('avatar.png') %>" alt="David Lynch" class="avatar-image" onerror="this.src='<%= asset_path("david-lynch-avatar.jpg") %>';">
      </div>
      <div class="message-bubble lynch-bubble">
        <% if question.ai_answer.present? %>
          <div class="ai-text"><%= question.ai_answer %></div>
        <% else %>
          <div class="thinking-animation">
            <span></span>
            <span></span>
            <span></span>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
